import {
  createTestClient,
  http,
  parseEther,
  publicActions,
  walletActions,
} from "viem";
import { privateKeyToAccount } from "viem/accounts";
import { localhost } from "viem/chains";
import { sankakuImplementationAddress, usdcAddress } from "./addresses";

const executorAccount = privateKeyToAccount(
  process.env.EXECUTOR_PRIVATE_KEY as `0x${string}`
);
export const deployerClient = createTestClient({
  mode: "ganache",
  transport: http(process.env.RPC_URL),
  account: privateKeyToAccount(
    process.env.DEPLOYER_PRIVATE_KEY as `0x${string}`
  ),
})
  .extend(walletActions)
  .extend(publicActions);

export async function deploy() {
  await deployUSDC();
  await deploySankakuImplementation();
  await deploySankakuFactorty();
  await deployRecurringExecutor();
}

async function deployUSDC() {
  const hash = await deployerClient.deployContract({
    bytecode:
      "0x608060405234801561001057600080fd5b506040518060400160405280600981526020017f4d6f636b455243323000000000000000000000000000000000000000000000008152506040518060400160405280600681526020017f4d45524332300000000000000000000000000000000000000000000000000000815250816003908161008c91906102f4565b50806004908161009c91906102f4565b5050506103c6565b600081519050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b6000600282049050600182168061012557607f821691505b602082108103610138576101376100de565b5b50919050565b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b6000600883026101a07fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82610163565b6101aa8683610163565b95508019841693508086168417925050509392505050565b6000819050919050565b6000819050919050565b60006101f16101ec6101e7846101c2565b6101cc565b6101c2565b9050919050565b6000819050919050565b61020b836101d6565b61021f610217826101f8565b848454610170565b825550505050565b600090565b610234610227565b61023f818484610202565b505050565b5b818110156102635761025860008261022c565b600181019050610245565b5050565b601f8211156102a8576102798161013e565b61028284610153565b81016020851015610291578190505b6102a561029d85610153565b830182610244565b50505b505050565b600082821c905092915050565b60006102cb600019846008026102ad565b1980831691505092915050565b60006102e483836102ba565b9150826002028217905092915050565b6102fd826100a4565b67ffffffffffffffff811115610316576103156100af565b5b610320825461010d565b61032b828285610267565b600060209050601f83116001811461035e576000841561034c578287015190505b61035685826102d8565b8655506103be565b601f19841661036c8661013e565b60005b828110156103945784890151825560018201915060208501945060208101905061036f565b868310156103b157848901516103ad601f8916826102ba565b8355505b6001600288020188555050505b505050505050565b610f0c806103d56000396000f3fe608060405234801561001057600080fd5b506004361061009e5760003560e01c806340c10f191161006657806340c10f191461015d57806370a082311461017957806395d89b41146101a9578063a9059cbb146101c7578063dd62ed3e146101f75761009e565b806306fdde03146100a3578063095ea7b3146100c157806318160ddd146100f157806323b872dd1461010f578063313ce5671461013f575b600080fd5b6100ab610227565b6040516100b89190610b60565b60405180910390f35b6100db60048036038101906100d69190610c1b565b6102b9565b6040516100e89190610c76565b60405180910390f35b6100f96102dc565b6040516101069190610ca0565b60405180910390f35b61012960048036038101906101249190610cbb565b6102e6565b6040516101369190610c76565b60405180910390f35b610147610315565b6040516101549190610d2a565b60405180910390f35b61017760048036038101906101729190610c1b565b61031e565b005b610193600480360381019061018e9190610d45565b61032c565b6040516101a09190610ca0565b60405180910390f35b6101b1610374565b6040516101be9190610b60565b60405180910390f35b6101e160048036038101906101dc9190610c1b565b610406565b6040516101ee9190610c76565b60405180910390f35b610211600480360381019061020c9190610d72565b610429565b60405161021e9190610ca0565b60405180910390f35b60606003805461023690610de1565b80601f016020809104026020016040519081016040528092919081815260200182805461026290610de1565b80156102af5780601f10610284576101008083540402835291602001916102af565b820191906000526020600020905b81548152906001019060200180831161029257829003601f168201915b5050505050905090565b6000806102c46104b0565b90506102d18185856104b8565b600191505092915050565b6000600254905090565b6000806102f16104b0565b90506102fe8582856104ca565b61030985858561055e565b60019150509392505050565b60006012905090565b6103288282610652565b5050565b60008060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b60606004805461038390610de1565b80601f01602080910402602001604051908101604052809291908181526020018280546103af90610de1565b80156103fc5780601f106103d1576101008083540402835291602001916103fc565b820191906000526020600020905b8154815290600101906020018083116103df57829003601f168201915b5050505050905090565b6000806104116104b0565b905061041e81858561055e565b600191505092915050565b6000600160008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905092915050565b600033905090565b6104c583838360016106d4565b505050565b60006104d68484610429565b90507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff81146105585781811015610548578281836040517ffb8f41b200000000000000000000000000000000000000000000000000000000815260040161053f93929190610e21565b60405180910390fd5b610557848484840360006106d4565b5b50505050565b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff16036105d05760006040517f96c6fd1e0000000000000000000000000000000000000000000000000000000081526004016105c79190610e58565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16036106425760006040517fec442f050000000000000000000000000000000000000000000000000000000081526004016106399190610e58565b60405180910390fd5b61064d8383836108ab565b505050565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16036106c45760006040517fec442f050000000000000000000000000000000000000000000000000000000081526004016106bb9190610e58565b60405180910390fd5b6106d0600083836108ab565b5050565b600073ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff16036107465760006040517fe602df0500000000000000000000000000000000000000000000000000000000815260040161073d9190610e58565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff16036107b85760006040517f94280d620000000000000000000000000000000000000000000000000000000081526004016107af9190610e58565b60405180910390fd5b81600160008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000208190555080156108a5578273ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b9258460405161089c9190610ca0565b60405180910390a35b50505050565b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff16036108fd5780600260008282546108f19190610ea2565b925050819055506109d0565b60008060008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905081811015610989578381836040517fe450d38c00000000000000000000000000000000000000000000000000000000815260040161098093929190610e21565b60405180910390fd5b8181036000808673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550505b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603610a195780600260008282540392505081905550610a66565b806000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825401925050819055505b8173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef83604051610ac39190610ca0565b60405180910390a3505050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610b0a578082015181840152602081019050610aef565b60008484015250505050565b6000601f19601f8301169050919050565b6000610b3282610ad0565b610b3c8185610adb565b9350610b4c818560208601610aec565b610b5581610b16565b840191505092915050565b60006020820190508181036000830152610b7a8184610b27565b905092915050565b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000610bb282610b87565b9050919050565b610bc281610ba7565b8114610bcd57600080fd5b50565b600081359050610bdf81610bb9565b92915050565b6000819050919050565b610bf881610be5565b8114610c0357600080fd5b50565b600081359050610c1581610bef565b92915050565b60008060408385031215610c3257610c31610b82565b5b6000610c4085828601610bd0565b9250506020610c5185828601610c06565b9150509250929050565b60008115159050919050565b610c7081610c5b565b82525050565b6000602082019050610c8b6000830184610c67565b92915050565b610c9a81610be5565b82525050565b6000602082019050610cb56000830184610c91565b92915050565b600080600060608486031215610cd457610cd3610b82565b5b6000610ce286828701610bd0565b9350506020610cf386828701610bd0565b9250506040610d0486828701610c06565b9150509250925092565b600060ff82169050919050565b610d2481610d0e565b82525050565b6000602082019050610d3f6000830184610d1b565b92915050565b600060208284031215610d5b57610d5a610b82565b5b6000610d6984828501610bd0565b91505092915050565b60008060408385031215610d8957610d88610b82565b5b6000610d9785828601610bd0565b9250506020610da885828601610bd0565b9150509250929050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b60006002820490506001821680610df957607f821691505b602082108103610e0c57610e0b610db2565b5b50919050565b610e1b81610ba7565b82525050565b6000606082019050610e366000830186610e12565b610e436020830185610c91565b610e506040830184610c91565b949350505050565b6000602082019050610e6d6000830184610e12565b92915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000610ead82610be5565b9150610eb883610be5565b9250828201905080821115610ed057610ecf610e73565b5b9291505056fea2646970667358221220517cc942929fbe178870832e14abbfe9ec75336a1a1723f310ff9d16b4a8009964736f6c634300081b0033",
    chain: localhost,
    abi: [],
  });
  await deployerClient.waitForTransactionReceipt({ hash });
}

async function deployRecurringExecutor() {
  const hash = await deployerClient.deployContract({
    bytecode:
      "0x608060405234801561001057600080fd5b506040516132ee3803806132ee83398181016040528101906100329190610823565b84600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16036100a55760006040517f1e4fbdf700000000000000000000000000000000000000000000000000000000815260040161009c919061091d565b60405180910390fd5b6100b4816101de60201b60201c565b5060008060146101000a81548160ff0219169083151502179055506001600360008282546100e29190610967565b92505081905550825184511415806100fc57508151845114155b8061010957508051845114155b15610140576040517f497e8ba600000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b60005b84518110156101d3576101c68582815181106101625761016161099b565b5b602002602001015185838151811061017d5761017c61099b565b5b60200260200101518584815181106101985761019761099b565b5b60200260200101518585815181106101b3576101b261099b565b5b60200260200101516102a260201b60201c565b8080600101915050610143565b505050505050610ad7565b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050816000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a35050565b6040518060a001604052808560028111156102c0576102bf6109ca565b5b81526020018473ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff1681526020018281526020016001151581525060026000600354815260200190815260200160002060008201518160000160006101000a81548160ff0219169083600281111561034a576103496109ca565b5b021790555060208201518160000160016101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060408201518160010160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506060820151816002015560808201518160030160006101000a81548160ff02191690831515021790555090505060016003600082825461041d9190610967565b925050819055507f34f58292732490cc8eed9c18959e1a00488bc05a14bfec38ba3fa0bf8686ff93600160035461045491906109f9565b85858585604051610469959493929190610a84565b60405180910390a150505050565b6000604051905090565b600080fd5b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006104b68261048b565b9050919050565b6104c6816104ab565b81146104d157600080fd5b50565b6000815190506104e3816104bd565b92915050565b600080fd5b6000601f19601f8301169050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b610537826104ee565b810181811067ffffffffffffffff82111715610556576105556104ff565b5b80604052505050565b6000610569610477565b9050610575828261052e565b919050565b600067ffffffffffffffff821115610595576105946104ff565b5b602082029050602081019050919050565b600080fd5b600381106105b857600080fd5b50565b6000815190506105ca816105ab565b92915050565b60006105e36105de8461057a565b61055f565b90508083825260208201905060208402830185811115610606576106056105a6565b5b835b8181101561062f578061061b88826105bb565b845260208401935050602081019050610608565b5050509392505050565b600082601f83011261064e5761064d6104e9565b5b815161065e8482602086016105d0565b91505092915050565b600067ffffffffffffffff821115610682576106816104ff565b5b602082029050602081019050919050565b60006106a66106a184610667565b61055f565b905080838252602082019050602084028301858111156106c9576106c86105a6565b5b835b818110156106f257806106de88826104d4565b8452602084019350506020810190506106cb565b5050509392505050565b600082601f830112610711576107106104e9565b5b8151610721848260208601610693565b91505092915050565b600067ffffffffffffffff821115610745576107446104ff565b5b602082029050602081019050919050565b6000819050919050565b61076981610756565b811461077457600080fd5b50565b60008151905061078681610760565b92915050565b600061079f61079a8461072a565b61055f565b905080838252602082019050602084028301858111156107c2576107c16105a6565b5b835b818110156107eb57806107d78882610777565b8452602084019350506020810190506107c4565b5050509392505050565b600082601f83011261080a576108096104e9565b5b815161081a84826020860161078c565b91505092915050565b600080600080600060a0868803121561083f5761083e610481565b5b600061084d888289016104d4565b955050602086015167ffffffffffffffff81111561086e5761086d610486565b5b61087a88828901610639565b945050604086015167ffffffffffffffff81111561089b5761089a610486565b5b6108a7888289016106fc565b935050606086015167ffffffffffffffff8111156108c8576108c7610486565b5b6108d4888289016106fc565b925050608086015167ffffffffffffffff8111156108f5576108f4610486565b5b610901888289016107f5565b9150509295509295909350565b610917816104ab565b82525050565b6000602082019050610932600083018461090e565b92915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b600061097282610756565b915061097d83610756565b925082820190508082111561099557610994610938565b5b92915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b6000610a0482610756565b9150610a0f83610756565b9250828203905081811115610a2757610a26610938565b5b92915050565b610a3681610756565b82525050565b60038110610a4d57610a4c6109ca565b5b50565b6000819050610a5e82610a3c565b919050565b6000610a6e82610a50565b9050919050565b610a7e81610a63565b82525050565b600060a082019050610a996000830188610a2d565b610aa66020830187610a75565b610ab3604083018661090e565b610ac0606083018561090e565b610acd6080830184610a2d565b9695505050505050565b61280880610ae66000396000f3fe608060405234801561001057600080fd5b50600436106101005760003560e01c8063715018a6116100975780638de2de52116100665780638de2de521461023b578063cb17815514610245578063d60b347f14610275578063f2fde38b146102a557610100565b8063715018a6146101d95780637586eb59146101e35780638456cb59146102135780638da5cb5b1461021d57610100565b806354fd4d50116100d357806354fd4d50146101655780635c975abb146101835780636c6226db146101a15780636d61fe70146101bd57610100565b806306fdde03146101055780633f4ba83a146101235780634b4b26d81461012d5780634b64e49214610149575b600080fd5b61010d6102c1565b60405161011a9190611d48565b60405180910390f35b61012b6102fe565b005b61014760048036038101906101429190611e2d565b610310565b005b610163600480360381019061015e9190611e94565b61032a565b005b61016d6108a2565b60405161017a9190611d48565b60405180910390f35b61018b6108df565b6040516101989190611edc565b60405180910390f35b6101bb60048036038101906101b69190611f23565b6108f5565b005b6101d760048036038101906101d29190611fc8565b61090b565b005b6101e1610947565b005b6101fd60048036038101906101f89190612015565b61095b565b60405161020a919061214e565b60405180910390f35b61021b610a94565b005b610225610aa6565b6040516102329190612178565b60405180910390f35b610243610acf565b005b61025f600480360381019061025a9190611e94565b610b29565b60405161026c91906121e1565b60405180910390f35b61028f600480360381019061028a9190611e94565b610bb2565b60405161029c9190611edc565b60405180910390f35b6102bf60048036038101906102ba9190611e94565b610c01565b005b60606040518060400160405280601181526020017f526563757272696e674578656375746f72000000000000000000000000000000815250905090565b610306610c87565b61030e610d0e565b565b610318610c87565b61032484848484610d70565b50505050565b610332610f45565b8061033c81610bb2565b610372576040517f3dcdb0c000000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b6000600160008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020604051806040016040529081600082015481526020016001820160009054906101000a900463ffffffff1663ffffffff1663ffffffff16815250509050600060026000836000015181526020019081526020016000206040518060a00160405290816000820160009054906101000a900460ff16600281111561043957610438612042565b5b600281111561044b5761044a612042565b5b81526020016000820160019054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020016001820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001600282015481526020016003820160009054906101000a900460ff1615151515815250509050806080015161055d576040517fa0274ff800000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b6000826020015163ffffffff169050600081146106f7576000600281111561058857610587612042565b5b8260000151600281111561059f5761059e612042565b5b1480156105b257506105b081610f86565b155b156105f55760006040517f6840f8ab0000000000000000000000000000000000000000000000000000000081526004016105ec919061220b565b60405180910390fd5b6001600281111561060957610608612042565b5b826000015160028111156106205761061f612042565b5b148015610633575061063181610ff0565b155b156106765760016040517f6840f8ab00000000000000000000000000000000000000000000000000000000815260040161066d919061220b565b60405180910390fd5b60028081111561068957610688612042565b5b826000015160028111156106a05761069f612042565b5b1480156106b357506106b18161105a565b155b156106f65760026040517f6840f8ab0000000000000000000000000000000000000000000000000000000081526004016106ed919061220b565b60405180910390fd5b5b42600160008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060010160006101000a81548163ffffffff021916908363ffffffff1602179055508473ffffffffffffffffffffffffffffffffffffffff16638e2865386107e38460400151600086602001518760600151604051602401610799929190612235565b60405160208183030381529060405263a9059cbb60e01b6020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff83818316178352505050506110c4565b6040518263ffffffff1660e01b81526004016107ff91906122b3565b600060405180830381600087803b15801561081957600080fd5b505af115801561082d573d6000803e3d6000fd5b505050508473ffffffffffffffffffffffffffffffffffffffff167f2679a5e414913dc240a41e5cf53862ce94be89e7d22abbaa099182721c552e6f846000015184600001518560200151866040015187606001516040516108939594939291906122d5565b60405180910390a25050505050565b60606040518060400160405280600581526020017f302e302e31000000000000000000000000000000000000000000000000000000815250905090565b60008060149054906101000a900460ff16905090565b6108fd610c87565b61090782826110f3565b5050565b610913610f45565b6000828260009060209261092993929190612332565b90610934919061238f565b60001c9050610942816111d5565b505050565b61094f610c87565b6109596000611466565b565b610963611c29565b600260008381526020019081526020016000206040518060a00160405290816000820160009054906101000a900460ff1660028111156109a6576109a5612042565b5b60028111156109b8576109b7612042565b5b81526020016000820160019054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020016001820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001600282015481526020016003820160009054906101000a900460ff1615151515815250509050919050565b610a9c610c87565b610aa461152a565b565b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b610ad7610f45565b610adf61158d565b610ae881610bb2565b610b1e576040517f3dcdb0c000000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b610b26611595565b50565b610b31611c98565b600160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020604051806040016040529081600082015481526020016001820160009054906101000a900463ffffffff1663ffffffff1663ffffffff16815250509050919050565b600080600160008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000015414159050919050565b610c09610c87565b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1603610c7b5760006040517f1e4fbdf7000000000000000000000000000000000000000000000000000000008152600401610c729190612178565b60405180910390fd5b610c8481611466565b50565b610c8f61158d565b73ffffffffffffffffffffffffffffffffffffffff16610cad610aa6565b73ffffffffffffffffffffffffffffffffffffffff1614610d0c57610cd061158d565b6040517f118cdaa7000000000000000000000000000000000000000000000000000000008152600401610d039190612178565b60405180910390fd5b565b610d16611691565b60008060146101000a81548160ff0219169083151502179055507f5db9ee0a495bf2e6ff9c91a7834c1ba4fdd244a5e8aa4e537bd38aeae4b073aa610d5961158d565b604051610d669190612178565b60405180910390a1565b6040518060a00160405280856002811115610d8e57610d8d612042565b5b81526020018473ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff1681526020018281526020016001151581525060026000600354815260200190815260200160002060008201518160000160006101000a81548160ff02191690836002811115610e1857610e17612042565b5b021790555060208201518160000160016101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060408201518160010160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506060820151816002015560808201518160030160006101000a81548160ff021916908315150217905550905050600160036000828254610eeb919061241d565b925050819055507f34f58292732490cc8eed9c18959e1a00488bc05a14bfec38ba3fa0bf8686ff936001600354610f229190612451565b85858585604051610f379594939291906122d5565b60405180910390a150505050565b610f4d6108df565b15610f84576040517fd93c066500000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b565b600080610f9d6007846116d190919063ffffffff16565b9050610fa842611702565b610fb182611702565b148015610fcd5750610fc242611729565b610fcb82611729565b145b8015610fe85750610fdd4261174f565b610fe68261174f565b145b915050919050565b60008061100760018461177490919063ffffffff16565b905061101242611702565b61101b82611702565b148015611037575061102c42611729565b61103582611729565b145b801561105257506110474261174f565b6110508261174f565b145b915050919050565b60008061107160068461177490919063ffffffff16565b905061107c42611702565b61108582611702565b1480156110a1575061109642611729565b61109f82611729565b145b80156110bc57506110b14261174f565b6110ba8261174f565b145b915050919050565b60608383836040516020016110db9392919061252a565b60405160208183030381529060405290509392505050565b600082148061110457506003548210155b1561113b576040517fb4120f1400000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b8015156002600084815260200190815260200160002060030160009054906101000a900460ff161515146111d157806002600084815260200190815260200160002060030160006101000a81548160ff0219169083151502179055507f4c1fcf53da7a40b100f45130c5be9a8684d1905f60dd2237c83cd076cdaaef8882826040516111c8929190612563565b60405180910390a15b5050565b806002600082815260200190815260200160002060030160009054906101000a900460ff16611230576040517fa0274ff800000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b6000600260008481526020019081526020016000206040518060a00160405290816000820160009054906101000a900460ff16600281111561127557611274612042565b5b600281111561128757611286612042565b5b81526020016000820160019054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020016001820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001600282015481526020016003820160009054906101000a900460ff16151515158152505090506040518060400160405280848152602001600063ffffffff168152506001600061138661158d565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000820151816000015560208201518160010160006101000a81548163ffffffff021916908363ffffffff1602179055509050506113fc61158d565b73ffffffffffffffffffffffffffffffffffffffff167f5369136544282e11d41edd771f174aa7dc4ccbe6647c4f7e6d0c09fd62518fff8483600001518460200151856040015186606001516040516114599594939291906122d5565b60405180910390a2505050565b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050816000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a35050565b611532610f45565b6001600060146101000a81548160ff0219169083151502179055507f62e78cea01bee320cd4e420270b5ea74000d11b0c9f74754ebdbfc544b05a25861157661158d565b6040516115839190612178565b60405180910390a1565b600033905090565b61159d61158d565b6115a681610bb2565b6115dc576040517f3dcdb0c000000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b600160006115e861158d565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000808201600090556001820160006101000a81549063ffffffff0219169055505061164c61158d565b73ffffffffffffffffffffffffffffffffffffffff167fa98648047b7bc937b18b1ed8ef7030d81aca59590c3f8ff2129bff106351320360405160405180910390a250565b6116996108df565b6116cf576040517f8dfc202b00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b565b600062015180826116e2919061258c565b836116ed919061241d565b9050828110156116fc57600080fd5b92915050565b600061171b620151808361171691906125fd565b611857565b909150905080915050919050565b6000611742620151808361173d91906125fd565b611857565b9091505080915050919050565b6000611768620151808361176391906125fd565b611857565b90505080915050919050565b600080600080611791620151808761178c91906125fd565b611857565b92509250925084826117a3919061241d565b9150600c6001836117b49190612451565b6117be91906125fd565b836117c9919061241d565b92506001600c6001846117dc9190612451565b6117e6919061262e565b6117f0919061241d565b915060006117fe84846119f6565b90508082111561180c578091505b620151808761181b919061262e565b6201518061182a868686611a81565b611834919061258c565b61183e919061241d565b94508685101561184d57600080fd5b5050505092915050565b600080600080849050600062253d8c62010bd9836118759190612669565b61187f9190612669565b9050600062023ab182600461189491906126ad565b61189e9190612725565b9050600460038262023ab16118b391906126ad565b6118bd9190612669565b6118c79190612725565b826118d2919061278f565b9150600062164b096001846118e79190612669565b610fa06118f491906126ad565b6118fe9190612725565b9050601f6004826105b561191291906126ad565b61191c9190612725565b84611927919061278f565b6119319190612669565b9250600061098f84605061194591906126ad565b61194f9190612725565b9050600060508261098f61196391906126ad565b61196d9190612725565b85611978919061278f565b9050600b826119879190612725565b945084600c61199691906126ad565b6002836119a39190612669565b6119ad919061278f565b915084836031866119be919061278f565b60646119ca91906126ad565b6119d49190612669565b6119de9190612669565b92508298508197508096505050505050509193909250565b60006001821480611a075750600382145b80611a125750600582145b80611a1d5750600782145b80611a285750600882145b80611a335750600a82145b80611a3e5750600c82145b15611a4c57601f9050611a7b565b60028214611a5d57601e9050611a7a565b611a6683611be0565b611a7157601c611a74565b601d5b60ff1690505b5b92915050565b60006107b2841015611a9257600080fd5b600084905060008490506000849050600062253d8c60046064600c600e87611aba919061278f565b611ac49190612725565b61132488611ad29190612669565b611adc9190612669565b611ae69190612725565b6003611af291906126ad565b611afc9190612725565b600c80600c600e88611b0e919061278f565b611b189190612725565b611b2291906126ad565b600287611b2f919061278f565b611b39919061278f565b61016f611b4691906126ad565b611b509190612725565b6004600c600e88611b61919061278f565b611b6b9190612725565b6112c089611b799190612669565b611b839190612669565b6105b5611b9091906126ad565b611b9a9190612725565b617d4b86611ba8919061278f565b611bb29190612669565b611bbc9190612669565b611bc6919061278f565b611bd0919061278f565b9050809450505050509392505050565b600080600483611bf0919061262e565b148015611c0a57506000606483611c07919061262e565b14155b80611c225750600061019083611c20919061262e565b145b9050919050565b6040518060a0016040528060006002811115611c4857611c47612042565b5b8152602001600073ffffffffffffffffffffffffffffffffffffffff168152602001600073ffffffffffffffffffffffffffffffffffffffff168152602001600081526020016000151581525090565b604051806040016040528060008152602001600063ffffffff1681525090565b600081519050919050565b600082825260208201905092915050565b60005b83811015611cf2578082015181840152602081019050611cd7565b60008484015250505050565b6000601f19601f8301169050919050565b6000611d1a82611cb8565b611d248185611cc3565b9350611d34818560208601611cd4565b611d3d81611cfe565b840191505092915050565b60006020820190508181036000830152611d628184611d0f565b905092915050565b600080fd5b600080fd5b60038110611d8157600080fd5b50565b600081359050611d9381611d74565b92915050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000611dc482611d99565b9050919050565b611dd481611db9565b8114611ddf57600080fd5b50565b600081359050611df181611dcb565b92915050565b6000819050919050565b611e0a81611df7565b8114611e1557600080fd5b50565b600081359050611e2781611e01565b92915050565b60008060008060808587031215611e4757611e46611d6a565b5b6000611e5587828801611d84565b9450506020611e6687828801611de2565b9350506040611e7787828801611de2565b9250506060611e8887828801611e18565b91505092959194509250565b600060208284031215611eaa57611ea9611d6a565b5b6000611eb884828501611de2565b91505092915050565b60008115159050919050565b611ed681611ec1565b82525050565b6000602082019050611ef16000830184611ecd565b92915050565b611f0081611ec1565b8114611f0b57600080fd5b50565b600081359050611f1d81611ef7565b92915050565b60008060408385031215611f3a57611f39611d6a565b5b6000611f4885828601611e18565b9250506020611f5985828601611f0e565b9150509250929050565b600080fd5b600080fd5b600080fd5b60008083601f840112611f8857611f87611f63565b5b8235905067ffffffffffffffff811115611fa557611fa4611f68565b5b602083019150836001820283011115611fc157611fc0611f6d565b5b9250929050565b60008060208385031215611fdf57611fde611d6a565b5b600083013567ffffffffffffffff811115611ffd57611ffc611d6f565b5b61200985828601611f72565b92509250509250929050565b60006020828403121561202b5761202a611d6a565b5b600061203984828501611e18565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b6003811061208257612081612042565b5b50565b600081905061209382612071565b919050565b60006120a382612085565b9050919050565b6120b381612098565b82525050565b6120c281611db9565b82525050565b6120d181611df7565b82525050565b6120e081611ec1565b82525050565b60a0820160008201516120fc60008501826120aa565b50602082015161210f60208501826120b9565b50604082015161212260408501826120b9565b50606082015161213560608501826120c8565b50608082015161214860808501826120d7565b50505050565b600060a08201905061216360008301846120e6565b92915050565b61217281611db9565b82525050565b600060208201905061218d6000830184612169565b92915050565b600063ffffffff82169050919050565b6121ac81612193565b82525050565b6040820160008201516121c860008501826120c8565b5060208201516121db60208501826121a3565b50505050565b60006040820190506121f660008301846121b2565b92915050565b61220581612098565b82525050565b600060208201905061222060008301846121fc565b92915050565b61222f81611df7565b82525050565b600060408201905061224a6000830185612169565b6122576020830184612226565b9392505050565b600081519050919050565b600082825260208201905092915050565b60006122858261225e565b61228f8185612269565b935061229f818560208601611cd4565b6122a881611cfe565b840191505092915050565b600060208201905081810360008301526122cd818461227a565b905092915050565b600060a0820190506122ea6000830188612226565b6122f760208301876121fc565b6123046040830186612169565b6123116060830185612169565b61231e6080830184612226565b9695505050505050565b600080fd5b600080fd5b6000808585111561234657612345612328565b5b838611156123575761235661232d565b5b6001850283019150848603905094509492505050565b600082905092915050565b6000819050919050565b600082821b905092915050565b600061239b838361236d565b826123a68135612378565b925060208210156123e6576123e17fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff83602003600802612382565b831692505b505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b600061242882611df7565b915061243383611df7565b925082820190508082111561244b5761244a6123ee565b5b92915050565b600061245c82611df7565b915061246783611df7565b925082820390508181111561247f5761247e6123ee565b5b92915050565b60008160601b9050919050565b600061249d82612485565b9050919050565b60006124af82612492565b9050919050565b6124c76124c282611db9565b6124a4565b82525050565b6000819050919050565b6124e86124e382611df7565b6124cd565b82525050565b600081905092915050565b60006125048261225e565b61250e81856124ee565b935061251e818560208601611cd4565b80840191505092915050565b600061253682866124b6565b60148201915061254682856124d7565b60208201915061255682846124f9565b9150819050949350505050565b60006040820190506125786000830185612226565b6125856020830184611ecd565b9392505050565b600061259782611df7565b91506125a283611df7565b92508282026125b081611df7565b915082820484148315176125c7576125c66123ee565b5b5092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b600061260882611df7565b915061261383611df7565b925082612623576126226125ce565b5b828204905092915050565b600061263982611df7565b915061264483611df7565b925082612654576126536125ce565b5b828206905092915050565b6000819050919050565b60006126748261265f565b915061267f8361265f565b9250828201905082811215600083121683821260008412151617156126a7576126a66123ee565b5b92915050565b60006126b88261265f565b91506126c38361265f565b92508282026126d18161265f565b91507f80000000000000000000000000000000000000000000000000000000000000008414600084121615612709576127086123ee565b5b828205841483151761271e5761271d6123ee565b5b5092915050565b60006127308261265f565b915061273b8361265f565b92508261274b5761274a6125ce565b5b600160000383147f800000000000000000000000000000000000000000000000000000000000000083141615612784576127836123ee565b5b828205905092915050565b600061279a8261265f565b91506127a58361265f565b92508282039050818112600084121682821360008512151617156127cc576127cb6123ee565b5b9291505056fea264697066735822122054ade6faecdeb26266bb1db5e53f49a2bd226097e10fcd396175c7a103446a4564736f6c634300081b0033",
    chain: localhost,
    abi: [
      {
        inputs: [
          {
            internalType: "address",
            name: "initialOwner",
            type: "address",
          },
          {
            internalType: "enum RecurringExecutor.ExecutionBasis[]",
            name: "initialBasis",
            type: "uint8[]",
          },
          {
            internalType: "address[]",
            name: "initialReceiver",
            type: "address[]",
          },
          {
            internalType: "address[]",
            name: "initialToken",
            type: "address[]",
          },
          {
            internalType: "uint256[]",
            name: "initialAmount",
            type: "uint256[]",
          },
        ],
        stateMutability: "nonpayable",
        type: "constructor",
      },
    ],
    args: [
      deployerClient.account.address,
      [0, 1, 2],
      [
        executorAccount.address,
        executorAccount.address,
        executorAccount.address,
      ],
      [usdcAddress, usdcAddress, usdcAddress],
      [parseEther("0.01"), parseEther("0.01"), parseEther("0.01")],
    ],
  });
  await deployerClient.waitForTransactionReceipt({ hash });
}

async function deploySankakuImplementation() {
  const hash = await deployerClient.deployContract({
    bytecode:
      "0x6080604052348015600f57600080fd5b50610e758061001f6000396000f3fe60806040526004361061008a5760003560e01c806354fd4d501161005957806354fd4d50146101435780638da5cb5b1461016e5780638e28653814610199578063ea6725e1146101b5578063f32a3661146101d157610091565b806306fdde031461009657806309c5eabe146100c15780630c8aefe5146100dd5780633c2fcf731461011a57610091565b3661009157005b600080fd5b3480156100a257600080fd5b506100ab6101fa565b6040516100b89190610a54565b60405180910390f35b6100db60048036038101906100d69190610ae5565b610237565b005b3480156100e957600080fd5b5061010460048036038101906100ff9190610b90565b6102e9565b6040516101119190610bd8565b60405180910390f35b34801561012657600080fd5b50610141600480360381019061013c9190610b90565b61033e565b005b34801561014f57600080fd5b506101586103cf565b6040516101659190610a54565b60405180910390f35b34801561017a57600080fd5b5061018361040c565b6040516101909190610c02565b60405180910390f35b6101b360048036038101906101ae9190610ae5565b610436565b005b6101cf60048036038101906101ca9190610b90565b6104bb565b005b3480156101dd57600080fd5b506101f860048036038101906101f39190610c1d565b6105f9565b005b60606040518060400160405280601281526020017f53616e6b616b75536d61727457616c6c65740000000000000000000000000000815250905090565b61023f61068e565b73ffffffffffffffffffffffffffffffffffffffff1661025d61040c565b73ffffffffffffffffffffffffffffffffffffffff16146102bc5761028061068e565b6040517f118cdaa70000000000000000000000000000000000000000000000000000000081526004016102b39190610c02565b60405180910390fd5b6000803660006102cc8686610696565b93509350935093506102e084848484610704565b50505050505050565b60008060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff169050919050565b61034661068e565b73ffffffffffffffffffffffffffffffffffffffff1661036461040c565b73ffffffffffffffffffffffffffffffffffffffff16146103c35761038761068e565b6040517f118cdaa70000000000000000000000000000000000000000000000000000000081526004016103ba9190610c02565b60405180910390fd5b6103cc81610740565b50565b60606040518060400160405280600581526020017f302e302e31000000000000000000000000000000000000000000000000000000815250905090565b6000600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b61044661044161068e565b6102e9565b61048e5761045261068e565b6040517fafe693ad0000000000000000000000000000000000000000000000000000000081526004016104859190610c02565b60405180910390fd5b60008036600061049e8686610696565b93509350935093506104b284848484610704565b50505050505050565b600073ffffffffffffffffffffffffffffffffffffffff16600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614610543576040517fc118570500000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16036105b55760006040517f1e4fbdf70000000000000000000000000000000000000000000000000000000081526004016105ac9190610c02565b60405180910390fd5b80600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b61060161068e565b73ffffffffffffffffffffffffffffffffffffffff1661061f61040c565b73ffffffffffffffffffffffffffffffffffffffff161461067e5761064261068e565b6040517f118cdaa70000000000000000000000000000000000000000000000000000000081526004016106759190610c02565b60405180910390fd5b6106898383836108b8565b505050565b600033905090565b60008036600085856000906014926106b093929190610c87565b906106bb9190610d06565b60601c935085856014906034926106d493929190610c87565b906106df9190610d6f565b60001c9250858560349080926106f793929190610c87565b9150915092959194509250565b6060604051905081838237600038838387895af1610725573d6000823e3d81fd5b3d8152602081013d6000823e3d810160405250949350505050565b806000808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff166107c3576040517f710c949700000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b8173ffffffffffffffffffffffffffffffffffffffff16638de2de526040518163ffffffff1660e01b8152600401600060405180830381600087803b15801561080b57600080fd5b505af115801561081f573d6000803e3d6000fd5b505050506000808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81549060ff02191690558173ffffffffffffffffffffffffffffffffffffffff167fee98ac2e8249cc44313add1831fdaab69dfa7e2069225dbe8a68e32fe43704e060405160405180910390a25050565b60016000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055508273ffffffffffffffffffffffffffffffffffffffff16636d61fe7083836040518363ffffffff1660e01b815260040161094a929190610e1b565b600060405180830381600087803b15801561096457600080fd5b505af1158015610978573d6000803e3d6000fd5b505050508273ffffffffffffffffffffffffffffffffffffffff167fa6b0f74ce29a647272054948f66029794014da73f72c790b3cdef21ad04c974b60405160405180910390a2505050565b600081519050919050565b600082825260208201905092915050565b60005b838110156109fe5780820151818401526020810190506109e3565b60008484015250505050565b6000601f19601f8301169050919050565b6000610a26826109c4565b610a3081856109cf565b9350610a408185602086016109e0565b610a4981610a0a565b840191505092915050565b60006020820190508181036000830152610a6e8184610a1b565b905092915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610aa557610aa4610a80565b5b8235905067ffffffffffffffff811115610ac257610ac1610a85565b5b602083019150836001820283011115610ade57610add610a8a565b5b9250929050565b60008060208385031215610afc57610afb610a76565b5b600083013567ffffffffffffffff811115610b1a57610b19610a7b565b5b610b2685828601610a8f565b92509250509250929050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000610b5d82610b32565b9050919050565b610b6d81610b52565b8114610b7857600080fd5b50565b600081359050610b8a81610b64565b92915050565b600060208284031215610ba657610ba5610a76565b5b6000610bb484828501610b7b565b91505092915050565b60008115159050919050565b610bd281610bbd565b82525050565b6000602082019050610bed6000830184610bc9565b92915050565b610bfc81610b52565b82525050565b6000602082019050610c176000830184610bf3565b92915050565b600080600060408486031215610c3657610c35610a76565b5b6000610c4486828701610b7b565b935050602084013567ffffffffffffffff811115610c6557610c64610a7b565b5b610c7186828701610a8f565b92509250509250925092565b600080fd5b600080fd5b60008085851115610c9b57610c9a610c7d565b5b83861115610cac57610cab610c82565b5b6001850283019150848603905094509492505050565b600082905092915050565b60007fffffffffffffffffffffffffffffffffffffffff00000000000000000000000082169050919050565b600082821b905092915050565b6000610d128383610cc2565b82610d1d8135610ccd565b92506014821015610d5d57610d587fffffffffffffffffffffffffffffffffffffffff00000000000000000000000083601403600802610cf9565b831692505b505092915050565b6000819050919050565b6000610d7b8383610cc2565b82610d868135610d65565b92506020821015610dc657610dc17fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff83602003600802610cf9565b831692505b505092915050565b600082825260208201905092915050565b82818337600083830152505050565b6000610dfa8385610dce565b9350610e07838584610ddf565b610e1083610a0a565b840190509392505050565b60006020820190508181036000830152610e36818486610dee565b9050939250505056fea26469706673582212203ae15dbd423de46c365872a265174b85e856e88f62859921cce7b3c5148dc05d64736f6c634300081b0033",
    chain: localhost,
    abi: [],
  });
  await deployerClient.waitForTransactionReceipt({ hash });
}

async function deploySankakuFactorty() {
  const hash = await deployerClient.deployContract({
    bytecode:
      "0x60a060405234801561001057600080fd5b50604051610b81380380610b818339818101604052810190610032919061027d565b80600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16036100a55760006040517f1e4fbdf700000000000000000000000000000000000000000000000000000000815260040161009c91906102cc565b60405180910390fd5b6100b48161015660201b60201c565b50600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff160361011b576040517f0abd577700000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b8173ffffffffffffffffffffffffffffffffffffffff1660808173ffffffffffffffffffffffffffffffffffffffff168152505050506102e7565b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050816000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a35050565b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061024a8261021f565b9050919050565b61025a8161023f565b811461026557600080fd5b50565b60008151905061027781610251565b92915050565b600080604083850312156102945761029361021a565b5b60006102a285828601610268565b92505060206102b385828601610268565b9150509250929050565b6102c68161023f565b82525050565b60006020820190506102e160008301846102bd565b92915050565b6080516108716103106000396000818161015f015281816101f301526103a401526108716000f3fe6080604052600436106100555760003560e01c8063290ab9841461005a578063715018a6146100855780638da5cb5b1461009c578063f14ddffc146100c7578063f2fde38b146100f7578063fb525da714610120575b600080fd5b34801561006657600080fd5b5061006f61015d565b60405161007c919061067b565b60405180910390f35b34801561009157600080fd5b5061009a610181565b005b3480156100a857600080fd5b506100b1610195565b6040516100be919061067b565b60405180910390f35b6100e160048036038101906100dc91906106fd565b6101be565b6040516100ee919061075e565b60405180910390f35b34801561010357600080fd5b5061011e60048036038101906101199190610779565b6102eb565b005b34801561012c57600080fd5b50610147600480360381019061014291906106fd565b610371565b604051610154919061075e565b60405180910390f35b7f000000000000000000000000000000000000000000000000000000000000000081565b6101896103d3565b610193600061045a565b565b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b60008083836040516020016101d492919061080f565b60405160208183030381529060405280519060200120905060006102187f00000000000000000000000000000000000000000000000000000000000000008361051e565b90508073ffffffffffffffffffffffffffffffffffffffff1663ea6725e1866040518263ffffffff1660e01b8152600401610253919061067b565b600060405180830381600087803b15801561026d57600080fd5b505af1158015610281573d6000803e3d6000fd5b50505050838573ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff167ff66707ae2820569ece31cb5ac7cfcdd4d076c3f31ed9e28bf94394bedc0f329d60405160405180910390a4809250505092915050565b6102f36103d3565b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16036103655760006040517f1e4fbdf700000000000000000000000000000000000000000000000000000000815260040161035c919061067b565b60405180910390fd5b61036e8161045a565b50565b600080838360405160200161038792919061080f565b6040516020818303038152906040528051906020012090506103ca7f000000000000000000000000000000000000000000000000000000000000000082306105d1565b91505092915050565b6103db610632565b73ffffffffffffffffffffffffffffffffffffffff166103f9610195565b73ffffffffffffffffffffffffffffffffffffffff16146104585761041c610632565b6040517f118cdaa700000000000000000000000000000000000000000000000000000000815260040161044f919061067b565b60405180910390fd5b565b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050816000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a35050565b6000763d602d80600a3d3981f3363d3d373d3d3d363d730000008360601b60e81c176000526e5af43d82803e903d91602b57fd5bf38360781b1760205281603760096000f59050600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16036105cb576040517fc2f868f400000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b92915050565b60006040518260388201526f5af43d82803e903d91602b57fd5bf3ff6024820152846014820152733d602d80600a3d3981f3363d3d373d3d3d363d7381528360588201526037600c8201206078820152605560438201209150509392505050565b600033905090565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006106658261063a565b9050919050565b6106758161065a565b82525050565b6000602082019050610690600083018461066c565b92915050565b600080fd5b6106a48161065a565b81146106af57600080fd5b50565b6000813590506106c18161069b565b92915050565b6000819050919050565b6106da816106c7565b81146106e557600080fd5b50565b6000813590506106f7816106d1565b92915050565b6000806040838503121561071457610713610696565b5b6000610722858286016106b2565b9250506020610733858286016106e8565b9150509250929050565b60006107488261063a565b9050919050565b6107588161073d565b82525050565b6000602082019050610773600083018461074f565b92915050565b60006020828403121561078f5761078e610696565b5b600061079d848285016106b2565b91505092915050565b60008160601b9050919050565b60006107be826107a6565b9050919050565b60006107d0826107b3565b9050919050565b6107e86107e38261065a565b6107c5565b82525050565b6000819050919050565b610809610804826106c7565b6107ee565b82525050565b600061081b82856107d7565b60148201915061082b82846107f8565b602082019150819050939250505056fea2646970667358221220b6ffab6c5280c29be311f56c94728246e01beeb6e94acb83252129f6f3b1814164736f6c634300081b0033",
    chain: localhost,
    abi: [
      {
        inputs: [
          {
            internalType: "address",
            name: "implementation_",
            type: "address",
          },
          {
            internalType: "address",
            name: "owner_",
            type: "address",
          },
        ],
        stateMutability: "nonpayable",
        type: "constructor",
      },
    ],
    args: [sankakuImplementationAddress, deployerClient.account.address],
  });
  await deployerClient.waitForTransactionReceipt({ hash });
}
